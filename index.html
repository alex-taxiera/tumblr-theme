<html>
  <!-- CREATED BY ALEX TAXIERA (alex.taxiera@gmail.com) -->
  <head>
    <!-- OPTIONS -->
    <meta name="color:Link Color" content="#CAE4F1"/>
    <meta name="color:Font Color" content="#F5F5F5"/>
    <meta name="color:Post Background Color" content="#222222"/>
    <!-- background -->
    <meta name="color:Background Color" content=""/>
    <meta name="image:Background Image" content=""/>
    <meta name="text:Background Repeat" content="repeat"/>
    <!-- birthday -->
    <meta name="text:Timezone Name" content=""/>
    <meta name="text:Birth Day" content=""/>
    <meta name="text:Birth Month" content=""/>
    <meta name="text:Birth Year" content=""/>
    <!-- sidebar -->
    <meta name="color:Image Border Color" content="#F5F5F5"/>
    <meta name="image:Sidebar Image" content=""/>
    <meta name="text:Profile Text" content=""/>
    <meta name="color:Nav Color" content=""/>
    <meta name="if:Ask Link" content="1"/>
    <!-- socials -->
    <meta name="if:Socials In Profile" content="1"/>
    <meta name="color:Socials Color" content="#F5F5F5"/>
    <meta name="text:Twitter URL" content=""/>
    <meta name="text:Instagram URL" content=""/>
    <meta name="text:Tiktok URL" content=""/>
    <meta name="text:YouTube URL" content=""/>
    <!-- NORMAL META -->
    <title>{Title}</title>
    <link rel="shortcut icon" href="{Favicon}">
    <link rel="alternate" type="application/rss+xml" href="{RSS}">
    {block:Description}
      <meta name="description" content="{MetaDescription}" />
    {/block:Description}
    <!-- SEO for pagination -->
    {block:PreviousPage}
      <link rel="prev" href="{PreviousPage}">
    {/block:PreviousPage}
    {block:JumpPagination length="5"}
      {block:CurrentPage}
        <link rel="canonical" href="{URL}">
      {/block:CurrentPage}
    {/block:JumpPagination}
    {block:NextPage}
      <link rel="next" href="{NextPage}">
    {/block:NextPage}
    <!-- GOOGLE FONTS -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet"> 
    <!-- ICONS -->
    <script type="text/javascript">
      const css = document.createElement('link')
      css.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css'
      css.rel = 'stylesheet'
      css.type = 'text/css'
      document.getElementsByTagName('head')[0].appendChild(css)
    </script>
    <!-- DATES -->
    <script src="https://moment.github.io/luxon/global/luxon.min.js"></script>

    <style>
      /* general style fixes */
      * {
        box-sizing: content-box;
      }

      body,
      figure,
      blockquote {
        margin: 0;
      }

      ul,
      ol {
        list-style-type: none;
        padding: 0;
      }

      p:first-child {
        margin-top: 0;
      }

      p:last-child {
        margin-bottom: 0;
      }

      /* tumblr overrides */
      .npf_row {
        margin: unset !important; /* override tumblr row style */
      }

      .avatar_frame {
        margin-right: 5px;
      }

      .tmblr-full > video {
        height: unset !important;
      }

      /* custom styles */
      html {
        overflow-y: scroll;
      }

      body {
        display: flex;
        justify-content: center;
        font-family: Roboto, Arial, Helvetica, sans-serif;

        background-attachment: fixed;
        background-image: url({image:Background Image});
        background-repeat: {text:Background Repeat};
        background-color: {color:Background Color};
        color: {color:Font Color};
      }

      a:link,
      a:visited {
        color: {color:Link Color};
      }

      a.icon-link {
        font-size: 1.2em;
        margin: 0 7px;
        text-decoration: none;
      }

      .glass {
        background: {color:Post Background Color}CC;
      }

      .uppercase {
        text-transform: uppercase;
      }

      /* posts */
      main#posts {
        display: flex;
        flex-flow: column;
        justify-content: center;
        margin-left: 40px;
      }

     .post {
        width: 500px;
        margin: 10px 0;
        padding: 15px 20px;
        display: flex;
        flex-flow: column;
      }

      .post > main > .caption {
        margin-top: 1em;
      }

      .post > footer > .metadata {
        margin-top: 10px;
        padding: 5px 0 0;
        border-top: 1px solid #666;
        display: flex;
        justify-content: space-between;
      }

      .post > footer > .tags,
      .post > footer > .notes {
        margin-top: 20px;
      }

      .post > footer > .tags {
        display: flex;
        flex-flow: row wrap;
        column-gap: 10px;
      }

      /* left sidebar */
      side-bar {
        height: 100vh;
        width: 175px;
        text-align: center;
        display: flex;
        flex-flow: column;
        row-gap: 20px;
        justify-content: center;
        position: sticky;
        top: 0;
      }

      side-bar .socials a,
      side-bar .socials a:link,
      side-bar .socials a:visited {
        color: {color:Socials Color};
      }

      side-bar .socials.in-profile a {
        margin-bottom: 15px;
      }

      /* sidebar image */
      side-bar > .image {
        height: 169px;
        padding: 2px;
        border-radius: 50%;
        border: 1px solid {color:Image Border Color};
      }

      side-bar > .image > .inner-border {
        height: 157px;
        display: flex;
        padding: 5px;
        border-radius: 50%;
        border: 1px solid {color:Image Border Color};
      }

      side-bar > .image > .inner-border > a {
        height: 100%;
        border-radius: 50%;
        overflow: hidden;
      }

      /* sidebar content */
      side-bar > .info {
        padding: 15px 0;
      }

      side-bar > .info > nav {
        margin-top: 25px;
      }

      side-bar > .info > nav > div {
        display: flex;
        justify-content: center;
      }

      side-bar > .info > nav > #navigation > a {
        color: {color:Nav Color};
      }

      side-bar > .info > nav > #pagination {
        margin-top: 15px;
      }

      side-bar > .info > nav > #pagination > * {
        padding: 0 5px;
        margin: 0 2px;
      }
    </style>
    <!-- custom function for real age display -->
    <script type="module">
      const ageElement = document.getElementById('age')
      if (ageElement) {
        let age = localStorage.getItem('age')

        if (age) {
          ageElement.textContent = age
        }

        const month = "{text:Birth Month}"
        const day  = "{text:Birth Day}"
        const year = "{text:Birth Year}"
        const zone = "{text:Timezone Name}"
  
        const bday = luxon.DateTime.fromObject({ year, month, day }, { zone })
  
        let now = luxon.DateTime.local()
        now = now.plus({ hours: (bday.offset / 60) - (now.offset / 60) })
  
        const age = Math.floor(now.diff(bday, 'years').toObject().years)
        ageElement.textContent = age
        localStorage.setItem('age', age)
      }
    </script>
    <!-- function to hide socials if none are enabled -->
  </head>
  <body>
    <side-bar>
      <div class="image">
        <div class="inner-border">
          <a href="/">
            <img src={image:Sidebar Image} width="100%">
          </a>
        </div>
      </div>
      {block:ifNotSocialsInProfile}
        <div class="socials">
          {block:ifTwitterURL}
            <a
              title="Twitter"
              class="fab fa-twitter icon-link"
              href="{text:Twitter URL}"
            ></a>
          {/block:ifTwitterURL}
          {block:ifTiktokURL}
            <a
              title="Tiktok"
              class="fab fa-tiktok icon-link"
              href="{text:Tiktok URL}"
            ></a>
          {/block:ifTiktokURL}
          {block:ifInstagramURL}
            <a
              title="Instagram"
              class="fab fa-instagram icon-link"
              href="{text:Instagram URL}"
            ></a>
          {/block:ifInstagramURL}
          {block:ifYouTubeURL}
            <a
              title="YouTube"
              class="fab fa-youtube icon-link"
              href="{text:YouTube URL}"
            ></a>
          {/block:ifYouTubeURL}
        </div>
      {/block:ifNotSocialsInProfile}
      <div class="info glass">
        {block:ifSocialsInProfile}
          <div class="socials in-profile">
            {block:ifTwitterURL}
              <a
                title="Twitter"
                class="fab fa-twitter icon-link"
                href="{text:Twitter URL}"
              ></a>
            {/block:ifTwitterURL}
            {block:ifTiktokURL}
              <a
                title="Tiktok"
                class="fab fa-tiktok icon-link"
                href="{text:Tiktok URL}"
              ></a>
            {/block:ifTiktokURL}
            {block:ifInstagramURL}
              <a
                title="Instagram"
                class="fab fa-instagram icon-link"
                href="{text:Instagram URL}"
              ></a>
            {/block:ifInstagramURL}
            {block:ifYouTubeURL}
              <a
                title="YouTube"
                class="fab fa-youtube icon-link"
                href="{text:YouTube URL}"
              ></a>
            {/block:ifYouTubeURL}
          </div>
        {/block:ifSocialsInProfile}
        <div>
          {text:Profile Text}
        </div>
        <nav>
          <div id="navigation">
            <a
              class="fa fa-home icon-link"
              href="/"
            ></a>
            {block:ifAskLink}
              <a
                class="fa fa-comment icon-link"
                href="/ask"
              ></a>
            {/block:ifAskLink}
            <a
              class="fa fa-code icon-link"
              target="_blank"
              rel="noopener"
              href="https://github.com/alex-taxiera/tumblr-theme"
            ></a>
          </div>
          {block:Pagination}
            <div id="pagination">
              {block:PreviousPage}
                <a href="{PreviousPage}">«</a>
              {/block:PreviousPage}
      
              {block:JumpPagination length="5"}
                {block:CurrentPage}
                  <span class="current_page">✗</span>
                {/block:CurrentPage}
                {block:JumpPage}
                  <a class="jump_page" href="{URL}">{PageNumber}</a>
                {/block:JumpPage}
              {/block:JumpPagination}
      
              {block:NextPage}
                <a href="{NextPage}">»</a>
              {/block:NextPage}
            </div>
          {/block:Pagination}
        </nav>
      </div>
    </side-bar>
    <main id="posts">
      {block:Posts}
        <article class="glass post">
          {block:Text}
            <!-- TEXT POST -->
            {block:Title}
              <header>
                <h3>
                  <a href="{Permalink}">
                    {Title}
                  </a>
                </h3>
              </header>
            {/block:Title}
            <main>
              {Body}
            </main>
          {/block:Text}

          {block:Photo}
            <!-- PHOTO POST -->
            <main>
              <img src="{PhotoURL-500}" alt="{PhotoAlt}"/>
              {block:Caption}
                <div class="caption">
                  {Caption}
                </div>
              {/block:Caption}
            </main>
          {/block:Photo}

          {block:Panorama}
            <!-- PANORAMA POST -->
            <main>
              {LinkOpenTag}
                <img src="{PhotoURL-Panorama}" alt="{PhotoAlt}"/>
              {LinkCloseTag}
              {block:Caption}
                <div class="caption">
                  {Caption}
                </div>
              {/block:Caption}
            </main>
          {/block:Panorama}

          {block:Photoset}
            <!-- PHOTOSET POST -->
            <main>
              {Photoset-500}
              {block:Caption}
                <div class="caption">
                  {Caption}
                </div>
              {/block:Caption}
            </main>
          {/block:Photoset}

          {block:Quote}
            <!-- QUOTE POST -->
            <main>
              "{Quote}"
              {block:Source}
                <div class="source">
                  {Source}
                </div>
              {/block:Source}
            </main>
          {/block:Quote}

          {block:Link}
            <!-- LINK POST -->
            <main>
              <a href="{URL}" class="link" {Target}>
                {Name}
              </a>
              {block:Description}
                <div class="description">
                  {Description}
                </div>
              {/block:Description}
            </main>
          {/block:Link}
          
          {block:Chat}
            <!-- CHAT POST -->
            {block:Title}
            <header>
              <h3>
                <a href="{Permalink}">
                  {Title}
                </a>
              </h3>
            </header>
            {/block:Title}
            <main>
              <ul class="chat">
                {block:Lines}
                  <li class="{Alt} user_{UserNumber}">
                    {block:Label}
                      <span class="label">
                        {Label}
                      </span>
                    {/block:Label}
                    {Line}
                  </li>
                {/block:Lines}
              </ul>
            </main>
          {/block:Chat}

          {block:Video}
            <!-- VIDEO POST -->
            <main>
              {Video-500}
              {block:Caption}
                <div class="caption">
                  {Caption}
                </div>
              {/block:Caption}
            </main>
          {/block:Video}

          {block:Audio}
            <!-- AUDIO POST -->
            <main>
              {AudioEmbed}
              {block:Caption}
                <div class="caption">
                  {Caption}
                </div>
              {/block:Caption}
            </main>
          {/block:Audio}

          <footer>
            {block:Date}
              <div class="metadata">
                <div>
                  <a href="{ReblogUrl}">Reblog</a>
                  |
                  <a href="{Permalink}">Link</a>
                </div>
                <div class="uppercase">
                  {DayOfMonthWithZero}-{ShortMonth}-{Year}&nbsp;{24HourWithZero}:{Minutes}
                </div>
              </div>
            {/block:Date}
  
            {block:PermalinkPage}
              {block:HasTags}
                <ul class="tags">
                  {block:Tags}
                    <li>
                      <a href="{TagURL}">#{Tag}</a>
                    </li>
                    {/block:Tags}
                </ul>
              {/block:HasTags}
              {PostNotes}
            {/block:PermalinkPage}
          </footer>
        </article>
      {/block:Posts}
    </main>
  </body>
</html>
